# Итоговое задание 28.9
### Задача:
 - Доработайте алгоритм merge sort, описанный в 11 модуле, сделав его многопоточным.
 - Используйте std::future в качестве инструмента для синхронизации результата работы потоков.
 - Нужно определить независимые части алгоритма, которые могут быть распараллелены и запустить их вычисление в отдельных потоках, как это было сделано в юните 28.7.
 - Потоки могут быть запущены через std::thread или std::async, но синхронизация строго через std::future. Также предусмотрите ограничение количества запускаемых потоков по примеру из юнита 28.7.

### Реализовано
Многопоточный алгоритм merge sort.

Независимая часть алгоритма, которая может быть распараллелена это первый вызов рекурсии.

Предусмотрено ограничение количества запускаемых потоков при обработке массива размером менее 10000 элементов. 

Так же приложение не будет открывать новые потоки если их количество превышает указанное значение. Запрашивается в программе.

На процессоре Intel Core I7 9700K 8 ядер, массив 100000000 элементов, при указании максимального количества потоков равным 8, многопоточная сортировка производится за 8 секунд, однопоточная 25 секунд. При увеличении или уменьшении этого показателя, производительность многопоточной обработки уменьшается.

Кроссплатформенное приложение.

### Описание реализации

Программа запрашивает размер массива и максимальное количество потоков.
Далее создается два массива, первый обрабатывается многопоточно, второй однопоточно. После чего выводится информация о времени обработки.

Класс mergesort имеет три метода
 - sort_mt - многопоточная сортировка
 - sort - однопоточная сортировка
 - test_sort - проверяет правильность сортировки

В многопоточной сортировке первый вызов рекурсии выполняется в отдельном потоке через std::future. Внутри потока сделан счетчик потоков.

Отдельный поток запускается только в определенных условиях: если ядер процессора более одного, если количество запущенных потоков не превышает указанных значений, размер обрабатываемого массива не превышает 10000. Если какое либо из условий не выполняется - будет запущен однопоточный метод sort.
